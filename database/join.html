<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="php, database, abstraction, query builder, schema builder">
<meta name="description" content="Learn how to perform joins">
<title>Joins | Opis Database</title>
        
        <link href="/assets/img/favicon.png" rel="shortcut icon">
        
        
        
<link rel="stylesheet" href="/assets/css/flatly-theme.min.css">

<link href="/assets/css/font-awesome.css" rel="stylesheet">

<link href="/assets/css/syntax.css" rel="stylesheet">



<link href="/assets/css/project.css" rel="stylesheet">


        
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css" />
        <!--[if lt IE 9]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.ie.min.css" />
        <![endif]--> 
        
        <!--[if lt IE 9]>
<script src="/assets/js/html5shiv.js"></script>
<script src="/assets/js/respond.min.js"></script>
<![endif]-->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/assets/js/jquery-1.11.0.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/assets/js/bootstrap.min.js"></script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-50415801-1', 'opis.io');
    ga('send', 'pageview');
</script>

    </head>
    <body>
        

<div class="github-fork-ribbon-wrapper right hidden-sm hidden-xs">
    <div class="github-fork-ribbon" style="background-color: #f80">
        <a href="https://github.com/opis/database">Fork me on GitHub</a>
    </div>
</div>

<header id="header" class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <img src="/assets/img/opis-gs-100.png" class="img-responsive opis-inline-logo">
            <a href="/database" class="navbar-brand">
                <strong>
                    Database
                </strong>
            </a>
            <button data-target="#navbar-main" data-toggle="collapse" type="button" class="navbar-toggle">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <nav id="navbar-main" class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/" title="Main page">
                        <span class="fa fa-home"></span> Home
                    </a>
                </li>
                <li class="dropdown hidden-md hidden-lg">
    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
        <span class="fa fa-file-text"></span> Documentation <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
    
        
        <li class="dropdown-header">Getting started</li>
        
        <li><a href="/database" title="Getting started with Opis Database">About</a></li>
    
        
        <li><a href="/database/connection.html" title="Learn how to connect to a database">Database connections</a></li>
    
        
        <li class="dropdown-header">The basics</li>
        
        <li><a href="/database/select.html" title="Fetching records from a database">Fetching records</a></li>
    
        
        <li><a href="/database/result.html" title="Learn how to handle the result set of a query">Results handling</a></li>
    
        
        <li><a href="/database/aggregate.html" title="Learn about aggregate functions">Aggregate functions</a></li>
    
        
        <li><a href="/database/extended-selections.html" title="Learn about how to define custom selections">Extended selections</a></li>
    
        
        <li><a href="/database/filter.html" title="Learn how to filter records">Filters</a></li>
    
        
        <li><a href="/database/expression.html" title="Learn about expressions">Expressions</a></li>
    
        
        <li><a href="/database/order.html" title="Learn how to order results">Ordering criteria</a></li>
    
        
        <li><a href="/database/limit.html" title="Learn about limits and offsets">Limits and offsets</a></li>
    
        
        <li class="active"><a href="/database/join.html" title="Learn how to perform joins">Joins</a></li>
    
        
        <li><a href="/database/aggregates-handling.html" title="Learn how to work with aggregates">Working with aggregates</a></li>
    
        
        <li><a href="/database/insert.html" title="Insert new records into a table">Create records</a></li>
    
        
        <li><a href="/database/update.html" title="Learn how to update existing records">Update records</a></li>
    
        
        <li><a href="/database/delete.html" title="Learn how to delete existing records">Delete records</a></li>
    
        
        <li class="dropdown-header">Transactions</li>
        
        <li><a href="/database/transaction.html" title="Learn how to use transactions">Performing transactions</a></li>
    
        
        <li class="dropdown-header">Database schema</li>
        
        <li><a href="/database/schema.html" title="Learn about Opis Database schema">Introduction</a></li>
    
        
        <li><a href="/database/creating-tables.html" title="Creating new tables">Creating tables</a></li>
    
        
        <li><a href="/database/modifying-tables.html" title="Modify existing tables">Modifying tables</a></li>
    
        
        <li class="dropdown-header">ORM</li>
        
        <li><a href="/database/orm.html" title="Learn about Opis Database ORM">Introduction</a></li>
    
        
        <li><a href="/database/orm-basics.html" title="Learn about ORM relationships">Basic operations</a></li>
    
        
        <li><a href="/database/orm-relationships.html" title="Learn about ORM relationships">Relationships</a></li>
    
        
        <li><a href="/database/orm-models.html" title="Learn about ORM relationships">Working with models</a></li>
    
    </ul>
</li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <span class="fa fa-cogs"></span> Components <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/cache" title="Caching library">Cache</a></li>
                        <li><a href="/closure" title="Serializable closures">Closure</a></li>
                        <li><a href="/config" title="Configuration manager">Config</a></li>
                        <li><a href="/container" title="Dependency injection container">Container</a></li>
                        <li><a href="/database" title="Database abstraction layer">Database</a></li>
                        <li><a href="/events" title="Events library">Events</a></li>
                        <li><a href="/http" title="HTTP library">HTTP</a></li>
                        <li><a href="/http-routing" title="HTTP routing library">HTTP Routing</a></li>
                        <li><a href="/routing" title="Routing framework">Routing</a></li>
                        <li><a href="/session" title="Session manager">Session</a></li>
                        <li><a href="/utils" title="Utilitary classes">Utils</a></li>
                        <li><a href="/view" title="Rendering engine">View</a></li>
                    </ul>
                </li>
                
    
    

                <li class="hidden-md hidden-lg">
                    <a href="https://github.com/opis/database" title="Github page">
                        <span class="fa fa-github fa-lg"></span> GitHub
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<section>
    <div class="container">
        <div class="row">
            <div class="col-md-4 hidden-xs hidden-sm">
                
                    
<ul class="navigation">

    
        
            
        
        <li class="chapter">Getting started</li>
        <ul>
            <li><a href="/database" title="Getting started with Opis Database">About</a></li>
    

    
        <li><a href="/database/connection.html" title="Learn how to connect to a database">Database connections</a></li>
    

    
        
        </ul>
        
        <li class="chapter">The basics</li>
        <ul>
            <li><a href="/database/select.html" title="Fetching records from a database">Fetching records</a></li>
    

    
        <li><a href="/database/result.html" title="Learn how to handle the result set of a query">Results handling</a></li>
    

    
        <li><a href="/database/aggregate.html" title="Learn about aggregate functions">Aggregate functions</a></li>
    

    
        <li><a href="/database/extended-selections.html" title="Learn about how to define custom selections">Extended selections</a></li>
    

    
        <li><a href="/database/filter.html" title="Learn how to filter records">Filters</a></li>
    

    
        <li><a href="/database/expression.html" title="Learn about expressions">Expressions</a></li>
    

    
        <li><a href="/database/order.html" title="Learn how to order results">Ordering criteria</a></li>
    

    
        <li><a href="/database/limit.html" title="Learn about limits and offsets">Limits and offsets</a></li>
    

    
        <li class="active"><a href="/database/join.html" title="Learn how to perform joins">Joins</a></li>
    

    
        <li><a href="/database/aggregates-handling.html" title="Learn how to work with aggregates">Working with aggregates</a></li>
    

    
        <li><a href="/database/insert.html" title="Insert new records into a table">Create records</a></li>
    

    
        <li><a href="/database/update.html" title="Learn how to update existing records">Update records</a></li>
    

    
        <li><a href="/database/delete.html" title="Learn how to delete existing records">Delete records</a></li>
    

    
        
        </ul>
        
        <li class="chapter">Transactions</li>
        <ul>
            <li><a href="/database/transaction.html" title="Learn how to use transactions">Performing transactions</a></li>
    

    
        
        </ul>
        
        <li class="chapter">Database schema</li>
        <ul>
            <li><a href="/database/schema.html" title="Learn about Opis Database schema">Introduction</a></li>
    

    
        <li><a href="/database/creating-tables.html" title="Creating new tables">Creating tables</a></li>
    

    
        <li><a href="/database/modifying-tables.html" title="Modify existing tables">Modifying tables</a></li>
    

    
        
        </ul>
        
        <li class="chapter">ORM</li>
        <ul>
            <li><a href="/database/orm.html" title="Learn about Opis Database ORM">Introduction</a></li>
    

    
        <li><a href="/database/orm-basics.html" title="Learn about ORM relationships">Basic operations</a></li>
    

    
        <li><a href="/database/orm-relationships.html" title="Learn about ORM relationships">Relationships</a></li>
    

    
        <li><a href="/database/orm-models.html" title="Learn about ORM relationships">Working with models</a></li>
    

    </ul>
</ul>

                
            </div>
            <div class="col-md-8 col-sm-12">
                
        


        

<h1>
    
    <strong>Joins</strong>
    
</h1>

<p>
    Joins are used to combine rows from two or more tables, based on a common field between them.
    <strong>Opis Database</strong> allows you to perform four type of joins:
    <strong>INNER</strong> join by using the <code>join</code> method,
    <strong>LEFT</strong> join by using the <code>leftJoin</code> method,
    <strong>RIGHT</strong> join by using the <code>rightJoin</code> method
    and <strong>FULL</strong> join by using the <code>fullJoin</code> method.
</p>

<p>
    Performing a join is done in a similar manner for all four types of joins.
    All join methods accepts two arguments: the first argument represents the joined table
    and the second argument must be an anonymous callback function, which will receive as an
    argument an object that will be further used to set the join's conditions to be met.
</p>

<p>
    Adding a join condition is done by using the <code>on</code> method. This methods accepts two arguments,
    representing the two columns on which the join will be performed,
    and optionally a third argument representing the comparison operator which can be one of the following:
    <code>=</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code> and <code>&lt;=</code>.
    If no comparison operator is specified, the <code>=</code> operator will be used by default.
</p>

<div class="highlight"><pre><code class="php"><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;profiles&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.id&#39;</span><span class="p">);</span>
             <span class="p">})</span>
             <span class="o">-&gt;</span><span class="na">select</span><span class="p">()</span>
             <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><code class="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span> <span class="k">ON</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span>
</code></pre></div>

<p>
    Adding multiple join conditions is done by using the <code>andOn</code> and <code>orOn</code> method.
    Depending on which method you use, the join condition will be combined with the previous declared join
    condition using the <code>AND</code> or the <code>OR</code> operator.
</p>

<p>
    To add an additional condition to your join expression,
    that combines with the previous declared condition by using an <code>AND</code> operator, use the <code>andOn</code> method. 
</p>

<div class="highlight"><pre><code class="php"><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;profiles&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.id&#39;</span><span class="p">)</span>
                     <span class="o">-&gt;</span><span class="na">andOn</span><span class="p">(</span><span class="s1">&#39;users.email&#39;</span><span class="p">,</span> <span class="s1">&#39;profile.primary_email&#39;</span><span class="p">);</span>
             <span class="p">})</span>
             <span class="o">-&gt;</span><span class="na">select</span><span class="p">()</span>
             <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><code class="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span>
        <span class="k">ON</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span>
        <span class="k">AND</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">email</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profile</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">primary_email</span><span class="o">`</span>
</code></pre></div>

<p>
    To add an additional condition to your join expression,
    that combines with the previous declared condition by using an <code>OR</code> operator, use the <code>orOn</code> method. 
</p>

<div class="highlight"><pre><code class="php"><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;profiles&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.id&#39;</span><span class="p">)</span>
                     <span class="o">-&gt;</span><span class="na">orOn</span><span class="p">(</span><span class="s1">&#39;users.email&#39;</span><span class="p">,</span> <span class="s1">&#39;profile.primary_email&#39;</span><span class="p">);</span>
             <span class="p">})</span>
             <span class="o">-&gt;</span><span class="na">select</span><span class="p">()</span>
             <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><code class="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span>
        <span class="k">ON</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span>
        <span class="k">OR</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">email</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profile</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">primary_email</span><span class="o">`</span>
</code></pre></div>

<p>
    You can also group your join conditions, by passing as an argument to the <code>on</code>,
    <code>andOn</code> and <code>orOn</code> methods, an anonymous callback function.
</p>

<div class="highlight"><pre><code class="php"><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;profiles&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.id&#39;</span><span class="p">)</span>
                     <span class="o">-&gt;</span><span class="na">andOn</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                        <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.email&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.primary_email&#39;</span><span class="p">)</span>
                             <span class="o">-&gt;</span><span class="na">orOn</span><span class="p">(</span><span class="s1">&#39;users.email&#39;</span><span class="p">,</span> <span class="s1">&#39;profiles.secondary_email&#39;</span><span class="p">);</span>
                     <span class="p">});</span>
             <span class="p">})</span>
             <span class="o">-&gt;</span><span class="na">select</span><span class="p">()</span>
             <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><code class="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span>
        <span class="k">ON</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span>
        <span class="k">AND</span> <span class="p">(</span><span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">email</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">primary_email</span><span class="o">`</span>
                <span class="k">OR</span>
             <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">email</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">secondary_email</span><span class="o">`</span><span class="p">)</span>
</code></pre></div>

<p>
    Aliasing the table name used within a join, is done by passing a <code>key => value</code>
    mapped array to the used join method, where the <code>key</code> represents the table's name and
    the <code>value</code> represents the alias name.
</p>

<div class="highlight"><pre><code class="php"><span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span>
             <span class="o">-&gt;</span><span class="na">join</span><span class="p">([</span><span class="s1">&#39;profiles&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;p&#39;</span><span class="p">],</span> <span class="k">function</span><span class="p">(</span><span class="nv">$join</span><span class="p">){</span>
                <span class="nv">$join</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="s1">&#39;p.id&#39;</span><span class="p">);</span>
             <span class="p">})</span>
             <span class="o">-&gt;</span><span class="na">select</span><span class="p">()</span>
             <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><code class="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="o">`</span><span class="n">profiles</span><span class="o">`</span> <span class="k">AS</span> <span class="o">`</span><span class="n">p</span><span class="o">`</span> <span class="k">ON</span> <span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">p</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span>
</code></pre></div>

                





    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
        
    

    
        
            
                
                
            
        
    

    

    

    

    

    

    

    

    

    

    

    


<ul class="pager">
  
  <li class="previous"><a href="/database/limit.html" title="Limits and offsets">&larr; Back</a></li>
  
  
  <li class="next"><a href="/database/aggregates-handling.html" title="Working with aggregates">Next &rarr;</a></li>
  
</ul>
                
            </div>
        </div>
    </div>
</section>
<a href="#0" id="back-to-top">
    <span class="fa fa-arrow-up"></span>
</a>
<script>
    (function($){
        
        $(document).ready(function(){
           var visible = false;
           $(window).scroll(function(){
                var top = $(this).scrollTop();
                
                if (top >= 100 && !visible) {
                   visible = true;
                   $('#back-to-top').fadeIn().show();
                 }
                 if(top < 100 && visible){
                   visible = false;
                   $('#back-to-top').fadeOut();  
                 }
           });
           
            $('#back-to-top').click(function(){
                $('html, body').animate({scrollTop : 0},800);
                return false;
            });
            
        });
        
        
    })(jQuery);
</script>
<footer class="text-center text-muted">
    Copyright &copy; 2014-2015 Marius Sarca. All rights reserved.
</footer>

    </body>
</html>
