---
layout: session
title: Session management | Opis Session
keywords: php, session, session manager, session redis, session database
description: Learn how to manage sessions
active: manage
---
<h1><strong>Session management</strong></h1>

<p>
    Adding data to a session is done by calling the <code>set</code> method. 
</p>

{% highlight php startinline %}
$session->set('name', 'John Doe');
{% endhighlight %}

<p>
    Retrieving data from session is done using the <code>get</code> method.
</p>

{% highlight php startinline %}
$session->get('name');
{% endhighlight %}

<p>
    You can also tell the method to return a custom value if the specified key does not exist.
    The default return value for nonexistent keys is  <code>null</code>.
</p>

{% highlight php startinline %}
$session->get('age', 18);
{% endhighlight %}

<p>
    You can also retrieve an item from session by using the <code>load</code> method. This
    method takes two arguments: a string representing the session key and an anonymous function callback.
    If no value was stored under the specified key, the the value returned by the callback
    is stored under that key and then returned.
</p>

{% highlight php startinline %}
$session->load('age', function($key){
    return 18;
});
{% endhighlight %}

<p>
    You can check if a value was stored under a certain key by calling the <code>has</code> method.
</p>

{% highlight php startinline %}
$session->has('name');
{% endhighlight %}

<p>
    Deleting data from session is done using the <code>delete</code> method.
</p>

{% highlight php startinline %}
$session->delete('name');
{% endhighlight %}

<p>
    Removing all session data is done using the <code>clear</code> method.
</p>

{% highlight php startinline %}
$session->clear();
{% endhighlight %}

{% include subtitle.html value="Flash data" %}

<p>
    Flash data are values stored into session that expires after the next request.
    Accessing the flash storage is done using the <code>flash</code> method.
</p>

<p>
    Setting flash data is done by accessing the flash storage and calling the <code>set</code> method.
</p>

{% highlight php startinline %}
$session->flash()->set('key', 'value');
{% endhighlight %}

<p>
    Retrieving data from flash session is done by accessing the flash storage and calling
    the <code>get</code> method.
</p>

{% highlight php startinline %}
$session->flash()->get('key');
{% endhighlight %}

<p>
    You can also tell the method to return a custom value if the specified key does not exist.
    The default return value for nonexistent keys is  <code>null</code>.
</p>

{% highlight php startinline %}
$session->flash()->get('key', 'Some default value');
{% endhighlight %}

<p>
    You can also retrieve data from flash session by accessing the flash storage and using the <code>load</code> method. This
    method takes two arguments: a string representing the session key and an anonymous function callback.
    If no value was stored under the specified key, the the value returned by the callback
    is stored under that key and then returned.
</p>

{% highlight php startinline %}
$session->flash()->load('key', function($key){
    return 'Some default value';
});
{% endhighlight %}

<p>
    Checking if some flash data key exists is done by accessing the flash storage and using
    the <code>has</code> method.
</p>

{% highlight php startinline %}
$session->flash()->has('key');
{% endhighlight %}

<p>
    Deleting data from flash session is done by accessing the flash storage and using the <code>delete</code> method.
</p>

{% highlight php startinline %}
$session->flash()->delete('key');
{% endhighlight %}

<p>
    You can clear all flash data by accesing the flash storage and calling the <code>clear</code>
    method. 
</p>

{% highlight php startinline %}
$session->flash()->clear();
{% endhighlight %}

<p>
    This method optionally accepts an array as argument, representing the new flash data.
</p>

{% highlight php startinline %}
$session->flash()->clear(array(
    'newKey' => 'New value',
));
{% endhighlight %}

<p>
    You can extend the life of the flash data by calling the <code>reflash</code> method
    or by accessing the flash storage and calling the <code>reflash</code> method.
</p>

{% highlight php startinline %}
$session->reflash();
//or
$session->flash()->reflash();
{% endhighlight %}

<p>
    Extending the life of flash data that are stored under certain keys is done by passing
    an array containing the key names to the methods presented above.
</p>

{% highlight php startinline %}
$session->reflash(array('user', 'age'));
//or
$session->flash()->reflash(array('user', 'age'));
{% endhighlight %}

<p>
    You can retrieve an array with all stored flash data, by accessing the flash storage and calling the <code>toArray</code> method.
</p>

{% highlight php startinline %}
$session->flash()->toArray();
{% endhighlight %}

{% include subtitle.html value="Session security" %}

<p>
    Retrieving the session ID is done by calling the <code>id</code> method.
</p>

{% highlight php startinline %}
$session->id();
{% endhighlight %}

<p>
    Regenerating the session ID can be done by using the <code>regenerate</code> method.
</p>

{% highlight php startinline %}
$session->regenerate();
{% endhighlight %}

<p>
    If you want to regenerate the session ID and also keep all data associated with the old session
    ID, you must paste <code>true</code> as an argument to the <code>regenerate</code> method.
</p>

{% highlight php startinline %}
$session->regenerate(true);
{% endhighlight %}

<p>
    Destroing a session is done using the <code>destroy</code> method.
</p>

{% highlight php startinline %}
$session->destroy();
{% endhighlight %}
