<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="php, cache, database cache, file cache, multiple storages">
<meta name="description" content="Learn how to add support for new storages">
<title>Add new storages | Opis Cache</title>
        
        <link href="/assets/img/favicon.png" rel="shortcut icon">
        
        
<link rel="stylesheet" href="/assets/css/flatly-theme.min.css">

<link href="/assets/css/font-awesome.css" rel="stylesheet">

<link href="/assets/css/syntax.css" rel="stylesheet">



<link href="/assets/css/project.css" rel="stylesheet">


        <!--[if lt IE 9]>
<script src="/assets/js/html5shiv.js"></script>
<script src="/assets/js/respond.min.js"></script>
<![endif]-->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/assets/js/jquery-1.11.0.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/assets/js/bootstrap.min.js"></script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-50415801-1', 'opis.io');
    ga('send', 'pageview');
</script>

    </head>
    <body>
        <header id="header" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <img src="/assets/img/opis-gs-100.png" class="img-responsive opis-inline-logo">
            <a href="" class="navbar-brand">
                <strong>
                    Cache
                </strong>
            </a>
            <button data-target="#navbar-main" data-toggle="collapse" type="button" class="navbar-toggle">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <nav id="navbar-main" class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/" title="Main page">
                        <span class="fa fa-home"></span> Home
                    </a>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <span class="fa fa-cogs"></span> Components <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/cache" title="Caching library">Cache</a></li>
                        <li><a href="/closure" title="Serializable closures">Closure</a></li>
                        <li><a href="/config" title="Configuration manager">Config</a></li>
                        <li><a href="/container" title="Dependency injection container">Container</a></li>
                        <li><a href="/database" title="Database abstraction layer">Database</a></li>
                        <li><a href="/events" title="Events library">Events</a></li>
                        <li><a href="https://github.com/opis/http" title="HTTP library">HTTP</a></li>
                        <li><a href="/http-routing" title="HTTP routing library">HTTP Routing</a></li>
                        <li><a href="/routing" title="Routing framework">Routing</a></li>
                        <li><a href="/session" title="Session manager">Session</a></li>
                        <li><a href="/utils" title="Utilitary classes">Utils</a></li>
                        <li><a href="/view" title="Rendering engine">View</a></li>
                    </ul>
                </li>
                <li>
                    <a href="https://github.com/opis/cache" title="Github page">
                        <span class="fa fa-github fa-lg"></span> GitHub
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<section>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="list-group">
                
                    
                        
<a href="/cache" class="list-group-item">

    <h4 class="list-group-item-heading">About</h4>
    <p class="list-group-item-text text-muted">
        Getting started with Opis Cache
    </p>
</a>
                    
                
                    
                        
<a href="/cache/use.html" class="list-group-item">

    <h4 class="list-group-item-heading">Using the library</h4>
    <p class="list-group-item-text text-muted">
        Learn how to use the library
    </p>
</a>
                    
                
                    
                        
<a href="/cache/collection.html" class="list-group-item">

    <h4 class="list-group-item-heading">Storage collection</h4>
    <p class="list-group-item-text text-muted">
        Learn how to create and use storage collections
    </p>
</a>
                    
                
                    
                        
<a href="/cache/storage.html" class="list-group-item active">

    <h4 class="list-group-item-heading">Add new storages</h4>
    <p class="list-group-item-text text-muted">
        Learn how you can add support for new storages
    </p>
</a>
                    
                
                </div>
            </div>
            <div class="col-md-8">
                <h1>
    <strong>Add new storages</strong>
</h1>

<p>
    Creating a new storage type is simply a matter of declaring a new class that implements the
    <code>Opis\Cache\StorageInterface</code> interface.
</p>

<p>
    The interface has five methods that need to be implementented in order to have a fully functional
    cache storage.
</p>

<div class="highlight"><pre><code class="php"><span class="k">namespace</span> <span class="nx">Opis\Cache</span><span class="p">;</span>

<span class="k">interface</span> <span class="nx">StorageInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">read</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">write</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">,</span> <span class="nv">$ttl</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">has</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span>
    
    <span class="k">public</span> <span class="k">function</span> <span class="nf">clear</span><span class="p">();</span>
  
<span class="p">}</span>
</code></pre></div>



    


    

<h4>
    
    <strong>The <em>write</em> method</strong>
    <a id="the-write-method" href="#the-write-method" class="link-anchor"><span class="fa fa-link"></span></a>
</h4>

<p>
    This methods takes two arguments representing a key-value pair and optionally a third argument
    representing the amount of time(expressed in seconds) remained until the cache expires. If <code>0 (zero)</code>
    is passed as a third argument, the cache will never expire.
    This method must return <code>true</code> if the value was successfully stored at the specified key
    or <code>false</code> otherwise.
</p>


    


    

<h4>
    
    <strong>The <em>read</em> method</strong>
    <a id="the-read-method" href="#the-read-method" class="link-anchor"><span class="fa fa-link"></span></a>
</h4>

<p>
    This method takes a single argument representing the key used to store the cached content.
    If there is no associated content with the specified key, the method must return <code>false</code>.
    If there is content associated with the specified key, then the content must be first removed from cache,
    after which the method must return <code>false</code>.
    Otherwise the method returns the content stored at the specified key.
</p>


    


    

<h4>
    
    <strong>The <em>has</em> method</strong>
    <a id="the-has-method" href="#the-has-method" class="link-anchor"><span class="fa fa-link"></span></a>
</h4>

<p>
    This method takes a single argument representing the key that needs to be checked.
    If there is no cache content associated with the specified key, or if the cache content has
    expired, then the method must return <code>false</code>.
    Otherwise this method returns <code>true</code>.
</p>


    


    

<h4>
    
    <strong>The <em>delete</em> method</strong>
    <a id="the-delete-method" href="#the-delete-method" class="link-anchor"><span class="fa fa-link"></span></a>
</h4>

This method takes a single argument representing the key that needs to be deleted.
If there is no content associated with this key or if the content could not be deleted, then
this method must return <code>false</code>. Otherwise this method returns <code>true</code>.


    


    

<h4>
    
    <strong>The <em>clear</em> method</strong>
    <a id="the-clear-method" href="#the-clear-method" class="link-anchor"><span class="fa fa-link"></span></a>
</h4>

This method takes no arguments. When this method is called, all cached content stored by the current
storage must be deleted. If the deletion succeed, then this method returns <code>true</code> otherwise it
returns <code>false</code>.


                





    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
                
            
        
    

    
        
            
        
    


<ul class="pager">
  
  <li class="previous"><a href="/cache/collection.html" title="Storage collection">&larr; Back</a></li>
  
  
</ul>
                
            </div>
        </div>
    </div>
</section>

<footer class="text-center text-muted">
    Copyright &copy; 2014-2015 Marius Sarca. All rights reserved.
</footer>

    </body>
</html>
